buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:8.0.2' // Use the appropriate version
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version" // Kotlin plugin
        classpath 'com.google.gms:google-services:4.3.10' // Optional: if you're using Firebase
        classpath 'dev.flutter:flutter-gradle-plugin' // Ensure this line is included
    }
}
    plugins {
    id 'com.android.application'
    id 'kotlin-android' // Ensure this is included if you're using Kotlin
    id 'dev.flutter.flutter-gradle-plugin' version '1.12.13+hotfix.5' // Check for the correct version
}

android {
    compileSdkVersion 34 // Ensure you're using a compatible SDK version
}


allprojects {
    repositories {
        google()
        mavenCentral()
    }
}



rootProject.buildDir = "../build"

subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"

    afterEvaluate {
        tasks.matching { it.name.startsWith("compile") || it.name.startsWith("assemble") }.configureEach {
            doFirst {
                println("Running task: $name on project: ${project.name}")
            }
        }
    }
}

subprojects {
    project.evaluationDependsOn(":app")
}

// Define a clean task to delete the build directories for all subprojects
tasks.register("clean", Delete) {
    delete rootProject.buildDir
}

// Optionally, you can add a task to print Kotlin versions or any other diagnostic info:
tasks.register("printVersions") {
    doLast {
        println "Kotlin version: $kotlin_version"
        println "Android Gradle Plugin version: 8.0.2"
    }
}
